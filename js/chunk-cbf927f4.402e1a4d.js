(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cbf927f4"],{2515:function(t,e,a){t.exports=a.p+"img/logo-scb.341626e6.png"},bb9c:function(t,e,a){"use strict";a.r(e);var c=a("7a23"),n={key:0,class:"container-fulid"},s={class:"container"},i={class:"d-flex justify-content-center w-100"};function r(t,e,a,r,o,b){var l=Object(c["F"])("Navbar"),u=Object(c["F"])("router-view"),h=Object(c["F"])("Alert");return Object(c["w"])(),Object(c["e"])(c["a"],null,[Object(c["i"])(l),o.isCheck?(Object(c["w"])(),Object(c["e"])("div",n,[Object(c["i"])("div",s,[Object(c["i"])(u)])])):Object(c["f"])("",!0),Object(c["i"])("div",i,[o.isCheck?Object(c["f"])("",!0):(Object(c["w"])(),Object(c["e"])(h,{key:0,customClass:o.alertClass,content:o.alertMsg},null,8,["customClass","content"]))])],64)}a("ac1f"),a("5319");var o=a("2515"),b=a.n(o),l={class:"navbar navbar-expand-lg navbar-dark bg-primary"},u={class:"container"},h=Object(c["i"])("span",{class:"navbar-brand"},[Object(c["i"])("img",{src:b.a,alt:"sugarCafeBar-LOGO",width:"45",class:"me-3"}),Object(c["i"])("span",null,"Sugar Cafe Bar 後台管理")],-1),O=Object(c["i"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(c["i"])("span",{class:"navbar-toggler-icon"})],-1),p={class:"collapse navbar-collapse",id:"navbarText"},j={class:"navbar-nav me-auto mb-2 mb-lg-0"},d={class:"nav-item"},v=Object(c["h"])("產品"),g={class:"nav-item"},f=Object(c["h"])("訂單"),k={class:"nav-item"},m=Object(c["h"])("優惠券"),w={class:"navbar-text"},x=Object(c["h"])(" 登出 "),$=Object(c["i"])("i",{class:"bi bi-box-arrow-in-right"},null,-1);function C(t,e,a,n,s,i){var r=Object(c["F"])("router-link");return Object(c["w"])(),Object(c["e"])("nav",l,[Object(c["i"])("div",u,[h,O,Object(c["i"])("div",p,[Object(c["i"])("ul",j,[Object(c["i"])("li",d,[Object(c["i"])(r,{class:"nav-link",to:"/backend"},{default:Object(c["Q"])((function(){return[v]})),_:1})]),Object(c["i"])("li",g,[Object(c["i"])(r,{class:"nav-link",to:"/backend/orders"},{default:Object(c["Q"])((function(){return[f]})),_:1})]),Object(c["i"])("li",k,[Object(c["i"])(r,{class:"nav-link",to:"/backend/coupons"},{default:Object(c["Q"])((function(){return[m]})),_:1})])]),Object(c["i"])("span",w,[Object(c["i"])("button",{class:"btn btn-secondary",onClick:e[1]||(e[1]=Object(c["S"])((function(){return i.signOut&&i.signOut.apply(i,arguments)}),["prevent"]))},[x,$])])])])])}var M={data:function(){return{currentPage:"",tips:{data:{success:!1,message:"登出失敗，請重新登出!"}}}},inject:["$httpMessageState"],methods:{signOut:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/logout");this.$http.post(e).then((function(e){e.data.success?(t.$httpMessageState(e,"登出"),document.cookie="hexToken='';expires=".concat(new Date(-1),"; path=/"),t.$router.push("/login")):t.$httpMessageState(e,"登出")})).catch((function(){t.$httpMessageState(t.tips,"登出")}))}}};M.render=C;var S=M,y={components:{Navbar:S},data:function(){return{isCheck:!1,alertClass:"alert-danger",alertMsg:"驗證中，請稍後..."}},inject:["$httpMessageState"],methods:{checkLogin:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/user/check");this.$http.post(e).then((function(e){e.data.success?t.isCheck=!0:(t.isCheck=!1,t.alertMsg="授權無效，請先登入!",t.$httpMessageState(e,"授權"),setTimeout((function(){t.$router.push("/login")}),1e3))})).catch((function(){}))}},created:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,this.checkLogin()}};y.render=r;e["default"]=y}}]);
//# sourceMappingURL=chunk-cbf927f4.402e1a4d.js.map