(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c952d"],{"593f":function(t,c,i){"use strict";i.r(c);i("a4d3"),i("e01a");var e=i("7a23"),s={key:0,class:"container-lg productDetail-container"},a={class:"row mb-3"},d={class:"col-md-6 productDetail-img mb-3"},o={class:"col-md-6 productDetailInfo"},n={class:"badge rounded-pill bg-secondary mb-2"},r={class:"h5 mb-0 text-muted text-end"},l={class:"h3 fw-bold text-end"},u={class:"row align-items-center"},b={class:"col-6"},p={class:"input-group my-3 bg-light rounded"},j={class:"input-group-prepend"},O=Object(e["i"])("i",{class:"bi bi-dash"},null,-1),h={class:"input-group-append"},g=Object(e["i"])("i",{class:"bi bi-plus"},null,-1),v={class:"col-6"},m={key:0,class:"spinner-border spinner-border-sm",role:"status"},f=Object(e["i"])("span",{class:"visually-hidden"},"Loading...",-1),y=Object(e["h"])(" 加入訂餐 "),I=Object(e["i"])("i",{class:"bi bi-plus-circle"},null,-1),w={key:0,class:"product-description"},S=Object(e["i"])("h4",{class:"fw-bold"},"好食說明",-1),k=Object(e["i"])("i",{class:"bi bi-check2"},null,-1),$={key:0},P=Object(e["i"])("i",{class:"bi bi-check2"},null,-1),q={class:"product-notice"},x=Object(e["i"])("h3",{class:"mb-3"},[Object(e["i"])("i",{class:"bi bi-exclamation-triangle-fill"}),Object(e["h"])(" 好食提醒 ")],-1),C={class:"container-lg"},L={class:"row"},N=Object(e["g"])('<div class="col-6 col-md-3"><div class="card"><div class="card-body"><div class="notice-icon"><i class="bi bi-clock-fill"></i><p>現點現做</p></div><p>為提供優質的餐點，<strong>一律現點現做</strong>，請您耐心等候!</p></div></div></div><div class="col-6 col-md-3"><div class="card"><div class="card-body"><div class="notice-icon"><i class="bi bi-emoji-smile-fill"></i><p>舒適服務</p></div><p>本店採半自助式，如同在家用餐的感覺，<strong>免收服務費</strong></p></div></div></div><div class="col-6 col-md-3"><div class="card"><div class="card-body"><div class="notice-icon"><i class="bi bi-heart-fill"></i><p>安心食用</p></div><p>本店食材<strong>產地皆為台灣</strong>，100%安心食用</p></div></div></div>',3),D={key:0,class:"col-6 col-md-3"},M=Object(e["i"])("div",{class:"card"},[Object(e["i"])("div",{class:"card-body"},[Object(e["i"])("div",{class:"notice-icon"},[Object(e["i"])("i",{class:"bi bi-cup-fill"}),Object(e["i"])("p",null,"好喝必知")]),Object(e["i"])("p",null,[Object(e["h"])("咖啡飲品"),Object(e["i"])("strong",null,"為特製咖啡豆"),Object(e["h"])("，拿鐵飲品"),Object(e["i"])("strong",null,"牛奶使用光泉牛奶")])])],-1),T={class:"product-recommand"},A=Object(e["i"])("h3",{class:"mb-3"},[Object(e["i"])("i",{class:"bi bi-hand-thumbs-up-fill"}),Object(e["h"])(" 好食推薦 ")],-1),F={class:"container-lg"};function J(t,c,i,J,U,_){var z=Object(e["F"])("Loading"),R=Object(e["F"])("ProductsCardSwiper");return Object(e["w"])(),Object(e["e"])(e["a"],null,[Object(e["i"])(z,{active:U.isLoading,"z-index":1070},null,8,["active"]),U.product.id?(Object(e["w"])(),Object(e["e"])("div",s,[Object(e["i"])("div",a,[Object(e["i"])("div",d,[Object(e["i"])("img",{src:U.product.imageUrl,class:"img-fluid rounded",width:"500",alt:U.product.title},null,8,["src","alt"])]),Object(e["i"])("div",o,[Object(e["i"])("span",n,Object(e["I"])(U.product.category),1),Object(e["i"])("h2",null,Object(e["I"])(U.product.title),1),Object(e["i"])("p",r,[Object(e["i"])("del",null,"NT$ "+Object(e["I"])(t.$filters.currency(U.product.origin_price))+" / "+Object(e["I"])(U.product.unit),1)]),Object(e["i"])("p",l," NT$ "+Object(e["I"])(t.$filters.currency(U.product.price))+" / "+Object(e["I"])(U.product.unit),1),Object(e["i"])("div",u,[Object(e["i"])("div",b,[Object(e["i"])("div",p,[Object(e["i"])("div",j,[Object(e["i"])("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",disabled:!U.cart.isDash,onClick:c[1]||(c[1]=Object(e["S"])((function(){return _.dashNumber&&_.dashNumber.apply(_,arguments)}),["prevent"]))},[O],8,["disabled"])]),Object(e["R"])(Object(e["i"])("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none bg-light",placeholder:"","onUpdate:modelValue":c[2]||(c[2]=function(t){return U.cart.quantity=t}),disabled:""},null,512),[[e["M"],U.cart.quantity,void 0,{number:!0}]]),Object(e["i"])("div",h,[Object(e["i"])("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",onClick:c[3]||(c[3]=Object(e["S"])((function(){return _.addNumber&&_.addNumber.apply(_,arguments)}),["prevent"]))},[g])])])]),Object(e["i"])("div",v,[Object(e["i"])("button",{type:"button",class:"text-nowrap btn btn-dark w-100 py-2",disabled:U.loadingStatus.loadingItem===U.product.id,onClick:c[4]||(c[4]=Object(e["S"])((function(){return _.addCart&&_.addCart.apply(_,arguments)}),["prevent"]))},[U.loadingStatus.loadingItem===U.product.id?(Object(e["w"])(),Object(e["e"])("div",m,[f])):Object(e["f"])("",!0),Object(e["i"])("div",{class:{"d-none":U.loadingStatus.loadingItem===U.product.id}},[y,I],2)],8,["disabled"])])]),U.product.description?(Object(e["w"])(),Object(e["e"])("div",w,[S,Object(e["i"])("p",null,[k,Object(e["h"])(" "+Object(e["I"])(U.product.description),1)]),U.product.content?(Object(e["w"])(),Object(e["e"])("p",$,[P,Object(e["h"])(" "+Object(e["I"])(U.product.content),1)])):Object(e["f"])("",!0)])):Object(e["f"])("",!0)])]),Object(e["i"])("section",q,[x,Object(e["i"])("div",C,[Object(e["i"])("div",L,[N,"好喝"===U.product.category?(Object(e["w"])(),Object(e["e"])("div",D,[M])):Object(e["f"])("",!0)])])]),Object(e["i"])("section",T,[A,Object(e["i"])("div",F,[Object(e["i"])(R,{limitCount:999,filterProduct:U.recProduct},null,8,["filterProduct"])])])])):Object(e["f"])("",!0)],64)}var U=i("5530"),_=(i("99af"),i("0ec7")),z={components:{ProductsCardSwiper:_["a"]},data:function(){return{isLoading:!1,loadingStatus:{loadingItem:""},baseAPI:"".concat("https://vue3-course-api.hexschool.io","/api/").concat("tomtom"),product:{},productId:"",cart:{quantity:1,isDash:!1},recProduct:{id:0,name:"",category:""},tips:{data:{success:!1,message:"該商品已加入至訂餐清單囉~"}}}},watch:{$route:function(){this.productId=this.$route.params.productId,void 0!==this.productId&&this.getProduct()}},inject:["emitter","$httpMessageState"],methods:{chageLoadingStatus:function(t){this.isLoading=t},setTips:function(t,c){this.tips={data:{success:t,message:c}}},getProduct:function(){var t=this;this.chageLoadingStatus(!0);var c="".concat(this.baseAPI,"/product/").concat(this.productId);this.$http.get(c).then((function(c){if(t.chageLoadingStatus(!1),c.data.success){var i=Object(U["a"])({},c.data.product);t.product=Object(U["a"])({},i),t.recProduct={id:t.product.id,name:t.product.title,category:t.product.category}}else t.$router.push("/product"),t.$httpMessageState(c,"產品取得")})).catch((function(){t.setTips(!1,"糟糕，找不到此產品!"),t.$httpMessageState(t.tips,"產品取得")}))},addCart:function(){var t=this;this.loadingStatus.loadingItem=this.product.id;var c={product_id:this.product.id,qty:this.cart.quantity},i="".concat(this.baseAPI,"/cart");this.$http.post(i,{data:c}).then((function(c){t.loadingStatus.loadingItem="",c.data.success?(t.setTips(!0,"".concat(t.product.title," 已加入至訂餐清單!")),t.$httpMessageState(t.tips,"加入訂餐清單"),t.cart.quantity=1,t.emitter.emit("get-cart")):t.$httpMessageState(c,"加入訂餐清單")})).catch((function(){t.loadingStatus.loadingItem="",t.setTips(!1,"糟糕，加入訂餐清單失敗!"),t.$httpMessageState(t.tips,"加入訂餐清單")}))},dashNumber:function(){this.cart.quantity>1&&(this.cart.quantity-=1,this.cart.isDash=this.cart.quantity>1)},addNumber:function(){this.cart.quantity+=1,this.cart.isDash=!0}},mounted:function(){this.productId=this.$route.params.productId,this.getProduct()}};z.render=J;c["default"]=z}}]);
//# sourceMappingURL=chunk-2d0c952d.57980d3f.js.map