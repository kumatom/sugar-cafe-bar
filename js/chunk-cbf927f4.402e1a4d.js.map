{"version":3,"sources":["webpack:///./src/assets/images/logo-scb.png","webpack:///./src/views/Backend/Backend.vue","webpack:///./src/components/Backend/Navbar.vue","webpack:///./src/components/Backend/Navbar.vue?b4a1","webpack:///./src/views/Backend/Backend.vue?d93c"],"names":["module","exports","class","isCheck","customClass","alertClass","content","alertMsg","src","alt","width","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","to","signOut","data","currentPage","tips","success","message","inject","methods","api","this","$http","post","then","res","$httpMessageState","document","cookie","Date","$router","push","catch","render","components","Navbar","checkLogin","setTimeout","created","token","replace","defaults","headers","common","Authorization"],"mappings":"mGAAAA,EAAOC,QAAU,IAA0B,6B,kECErBC,MAAM,mB,GACnBA,MAAM,a,GAKRA,MAAM,uC,qKAPX,eAAU,GACC,EAAAC,S,iBAAX,eAIM,MAJN,EAIM,CAHJ,eAEM,MAFN,EAEM,CADJ,eAAe,Q,sBAInB,eAEM,MAFN,EAEM,CADU,EAAAA,Q,wCAAd,eAAuE,G,MAA/CC,YAAa,EAAAC,WAAaC,QAAS,EAAAC,U,0FCRxDL,MAAM,kD,GACJA,MAAM,a,EACT,eAGO,QAHDA,MAAM,gBAAc,CACxB,eAAwF,OAAnFM,IAAA,IAAmCC,IAAI,oBAAoBC,MAAM,KAAKR,MAAM,SACjF,eAAgC,YAA1B,yB,KAER,eAUS,UATPA,MAAM,iBACNS,KAAK,SACLC,iBAAe,WACfC,iBAAe,cACfC,gBAAc,aACdC,gBAAc,QACdC,aAAW,qB,CAEX,eAAyC,QAAnCd,MAAM,0B,MAETA,MAAM,2BAA2Be,GAAG,c,GACnCf,MAAM,mC,GACJA,MAAM,Y,iBACoC,M,GAE1CA,MAAM,Y,iBAC2C,M,GAEjDA,MAAM,Y,iBAC4C,O,GAGlDA,MAAM,e,iBACiD,Q,EAEzD,eAAwC,KAArCA,MAAM,4BAA0B,S,oFAhC7C,eAqCM,MArCN,EAqCM,CApCJ,eAmCM,MAnCN,EAmCM,CAlCJ,EAIA,EAWA,eAkBM,MAlBN,EAkBM,CAjBJ,eAUK,KAVL,EAUK,CATH,eAEK,KAFL,EAEK,CADH,eAA4D,GAA/CA,MAAM,WAAWgB,GAAG,Y,yBAAW,iBAAE,C,cAEhD,eAEK,KAFL,EAEK,CADH,eAAmE,GAAtDhB,MAAM,WAAWgB,GAAG,mB,yBAAkB,iBAAE,C,cAEvD,eAEK,KAFL,EAEK,CADH,eAAqE,GAAxDhB,MAAM,WAAWgB,GAAG,oB,yBAAmB,iBAAG,C,gBAG3D,eAKO,OALP,EAKO,CAJL,eAGS,UAHDhB,MAAM,oBAAqB,QAAK,8CAAU,EAAAiB,SAAA,EAAAA,QAAA,qBAAO,e,GAEvD,YASG,OACbC,KADa,WAEX,MAAO,CACLC,YAAa,GACbC,KAAM,CACJF,KAAM,CACJG,SAAS,EACTC,QAAS,kBAKjBC,OAAQ,CAAC,qBACTC,QAAS,CACPP,QADO,WACG,WACFQ,EAAE,UAAO,uCAAP,WACRC,KAAKC,MACFC,KAAKH,GACLI,MAAK,SAACC,GACDA,EAAIZ,KAAKG,SAEX,EAAKU,kBAAkBD,EAAK,MAC5BE,SAASC,OAAT,8BAAyC,IAAIC,MAAM,GAAnD,YACA,EAAKC,QAAQC,KAAK,WAElB,EAAKL,kBAAkBD,EAAK,SAG/BO,OAAM,WACL,EAAKN,kBAAkB,EAAKX,KAAM,YCpE5C,EAAOkB,OAAS,EAED,QFYA,GACbC,WAAY,CACVC,UAEFtB,KAJa,WAKX,MAAO,CACLjB,SAAS,EACTE,WAAY,eACZE,SAAU,eAGdkB,OAAQ,CAAC,qBACTC,QAAS,CACPiB,WADO,WACM,WACLhB,EAAE,UAAO,uCAAP,mBACRC,KAAKC,MACFC,KAAKH,GACLI,MAAK,SAACC,GACDA,EAAIZ,KAAKG,QACX,EAAKpB,SAAU,GAGf,EAAKA,SAAU,EACf,EAAKI,SAAW,aAChB,EAAK0B,kBAAkBD,EAAK,MAC5BY,YAAW,WACT,EAAKP,QAAQC,KAAK,YACjB,SAGNC,OAAM,iBAGbM,QAjCa,WAkCX,IAAMC,EAAQZ,SAASC,OAAOY,QAAQ,iDAAkD,MACxFnB,KAAKC,MAAMmB,SAASC,QAAQC,OAAOC,cAAgBL,EACnDlB,KAAKe,eGlDT,EAAOH,OAASA,EAED","file":"js/chunk-cbf927f4.402e1a4d.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/logo-scb.341626e6.png\";","<template>\n  <Navbar />\n  <div v-if=\"isCheck\" class=\"container-fulid\">\n    <div class=\"container\">\n      <router-view />\n    </div>\n  </div>\n  <!-- Alert提示 -->\n  <div class=\"d-flex justify-content-center w-100\">\n    <Alert v-if=\"!isCheck\" :customClass=\"alertClass\" :content=\"alertMsg\" />\n  </div>\n</template>\n\n<script>\n// 導入Navbar\nimport Navbar from '@/components/Backend/Navbar.vue';\n\nexport default {\n  components: {\n    Navbar,\n  },\n  data() {\n    return {\n      isCheck: false,\n      alertClass: 'alert-danger',\n      alertMsg: '驗證中，請稍後...',\n    };\n  },\n  inject: ['$httpMessageState'],\n  methods: {\n    checkLogin() {\n      const api = `${process.env.VUE_APP_API}/api/user/check`;\n      this.$http\n        .post(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.isCheck = true;\n            // this.$router.push('/backend/products');\n          } else {\n            this.isCheck = false;\n            this.alertMsg = '授權無效，請先登入!';\n            this.$httpMessageState(res, '授權');\n            setTimeout(() => {\n              this.$router.push('/login');\n            }, 1000);\n          }\n        })\n        .catch(() => {});\n    },\n  },\n  created() {\n    const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n    this.$http.defaults.headers.common.Authorization = token;\n    this.checkLogin();\n  },\n};\n</script>\n","<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary\">\n    <div class=\"container\">\n      <span class=\"navbar-brand\">\n        <img src=\"@/assets/images/logo-scb.png\" alt=\"sugarCafeBar-LOGO\" width=\"45\" class=\"me-3\">\n        <span>Sugar Cafe Bar 後台管理</span>\n      </span>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarText\"\n        aria-controls=\"navbarText\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarText\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/backend\">產品</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/backend/orders\">訂單</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/backend/coupons\">優惠券</router-link>\n          </li>\n        </ul>\n        <span class=\"navbar-text\">\n          <button class=\"btn btn-secondary\" @click.prevent=\"signOut\">\n            登出\n            <i class=\"bi bi-box-arrow-in-right\"></i>\n          </button>\n        </span>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      currentPage: '',\n      tips: {\n        data: {\n          success: false,\n          message: '登出失敗，請重新登出!',\n        },\n      },\n    };\n  },\n  inject: ['$httpMessageState'],\n  methods: {\n    signOut() {\n      const api = `${process.env.VUE_APP_API}/logout`;\n      this.$http\n        .post(api)\n        .then((res) => {\n          if (res.data.success) {\n            // 清空cookie => Token\n            this.$httpMessageState(res, '登出');\n            document.cookie = `hexToken='';expires=${new Date(-1)}; path=/`;\n            this.$router.push('/login');\n          } else {\n            this.$httpMessageState(res, '登出');\n          }\n        })\n        .catch(() => {\n          this.$httpMessageState(this.tips, '登出');\n        });\n    },\n  },\n};\n</script>\n","import { render } from \"./Navbar.vue?vue&type=template&id=47023ece\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Backend.vue?vue&type=template&id=35789c48\"\nimport script from \"./Backend.vue?vue&type=script&lang=js\"\nexport * from \"./Backend.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}